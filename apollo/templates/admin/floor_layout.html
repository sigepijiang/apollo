{% extends 'admin/layout.html' %}

{% block title %}Canvas平面图{% endblock %}
{% block styles %}
	{{ super() }}
    <link href="{{ static_file('css/admin.css') }}" rel="stylesheet" type="text/css"/>
{% endblock %}

{% block container %}
	<div id="contentContainer" class="drawplan-container clearfix">
        <div class="btn-wrap col-sm-4">
			<a  id="saveBtn" href="javascript: void 0;" class="btn btn-primary" role="button">保存</a>
			<a  id="bgBtn" href="javascript: void 0;" class="btn btn-default" role="button">修改背景</a>
			<a  id="nextBtn" href="javascript: void 0;" class="btn btn-default" role="button" data-operation="">下一步</a>
		</div>
		<div class="btn-wrap col-sm-4">
			<a href="javascript: void 0;" class="btn btn-info active" role="button" data-operation="bg">背景</a>
			<a href="javascript: void 0;" class="btn btn-info" role="button" data-operation="white">空地</a>
			<a href="javascript: void 0;" class="btn btn-info" role="button" data-operation="shop">店铺</a>
			<a href="javascript: void 0;" class="btn btn-info" role="button" data-operation="icon">指示</a>
		</div>
		<div class="btn-wrap form-group col-sm-4">
			<select id="delOption" class="form-control del-option">

			</select>
			<a id="delBlockBtn" href="javascript: void 0;" class="btn btn-danger" role="button">删除块</a>
			<a id="delBtn" href="javascript: void 0;" class="btn btn-danger" role="button">删除点</a>
			<a id="drawBtn" href="javascript: void 0;" class="btn btn-success" role="button">绘制</a>
        </div>
		<canvas id="canvas" class="canvas">
			This is a Canvas~!
		</canvas>
		<ul id="pointList" class="point-list">
		</ul>
		<!-- Modal -->
		<div class="modal fade" id="canvasBgModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title" id="myModalLabel">选择楼层平面图</h4>
					</div>
					<div class="modal-body">
						<input class="btn" id="bgInput" type="file" name="image">
						<img class="tmp-img" id="bgTmpImg" src="">
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" data-dismiss="modal">Save changes</button>
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}

{% block scripts %}
    <script>
        var floor_id = {{ layout.floor_id|tojson|safe }},
            layout = {{ layout.data|tojson|safe }},
            url_parent = {{ url_for('apollo:admin.floor_list')|tojson|safe }};
    </script>
	{{ super() }}
	<script src="{{ static_file('js/lib/ajaxupload.js') }}"></script>
	<script src="{{ static_file('js/admin/drawPlan.js') }}"></script>
{% endblock%}
